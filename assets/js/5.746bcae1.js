(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{265:function(s,t,a){s.exports=a.p+"assets/img/16c9ae430bbfd83f.e4cd8ff6.e4cd8ff6.jpg"},266:function(s,t,a){s.exports=a.p+"assets/img/16c9af1438d01b17.ffc43255.ffc43255.jpg"},267:function(s,t){s.exports="data:image/jpeg;base64,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"},268:function(s,t,a){s.exports=a.p+"assets/img/16c9f5a4442a98b3.b4afe66f.b4afe66f.jpg"},269:function(s,t,a){s.exports=a.p+"assets/img/16c9f60101689d39.201f90c7.201f90c7.jpg"},270:function(s,t,a){s.exports=a.p+"assets/img/16c9f828f43fa381.34691d6f.34691d6f.jpg"},271:function(s,t,a){s.exports=a.p+"assets/img/16c9f657a5976124.c58f09f7.c58f09f7.jpg"},272:function(s,t,a){s.exports=a.p+"assets/img/16c9f731416e693c.4989ef91.4989ef91.jpg"},273:function(s,t,a){s.exports=a.p+"assets/img/16c9f7f5f6485572.7dac30b4.7dac30b4.jpg"},274:function(s,t,a){s.exports=a.p+"assets/img/16c9f7f858b05b14.dd1ab4e0.dd1ab4e0.jpg"},275:function(s,t,a){s.exports=a.p+"assets/img/16c9f81b36336a4d.9d446c0c.9d446c0c.jpg"},276:function(s,t,a){s.exports=a.p+"assets/img/20190821175721.17af95ab.png"},277:function(s,t,a){s.exports=a.p+"assets/img/16ca53d5b6262974.9fc67a36.9fc67a36.jpg"},278:function(s,t,a){s.exports=a.p+"assets/img/16ca54282a043388.8efc157f.8efc157f.jpg"},279:function(s,t,a){s.exports=a.p+"assets/img/16ca55d6ce64fa1f.27f93ba7.27f93ba7.jpg"},437:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"爬虫，其实就是这么简单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#爬虫，其实就是这么简单","aria-hidden":"true"}},[s._v("#")]),s._v(" 爬虫，其实就是这么简单")]),s._v(" "),n("h2",{attrs:{id:"爬虫及robots协议"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#爬虫及robots协议","aria-hidden":"true"}},[s._v("#")]),s._v(" 爬虫及Robots协议")]),s._v(" "),n("blockquote",[n("p",[n("strong",[s._v("爬虫")]),s._v("，是一种自动获取网页内容的程序。是搜索引擎的重要组成部门，因此搜索引擎去优化很大程度上就是针对爬虫而做出的优化。")])]),s._v(" "),n("blockquote",[n("p",[n("strong",[s._v("Robots协议")]),s._v("（也称为爬虫协议、机器人协议等）的全称是“网络爬虫排除标准”（Robots Exclusion Protocol），网站通过Robots协议告诉搜索引擎哪些页面可以抓取，哪些页面不能抓取。")])]),s._v(" "),n("p",[s._v("robots.txt 文件是一个文本文件，使用任何一种常用的文本编辑器都可以创建和编辑它。robots.txt 是一种协议，而不是一个命令。robots.txt是搜索引擎访问网站时要查看的第一个文件，它告诉爬虫在服务器上什么文件是可以被查看的。")]),s._v(" "),n("p",[s._v("下图是"),n("strong",[s._v("豆瓣电影")]),s._v("页面关于 robots 协议列出的可以访问的范围。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(265),alt:"img"}})]),s._v(" "),n("p",[s._v("爬虫和 Robots 协议是紧密相连的，图中看到的不允许爬的页面就不可以去爬，如果涉及到用户的隐私问题，被发现后就会被起诉。")]),s._v(" "),n("p",[s._v("因此业界普遍认可 Robots 协议，当然也存在无视协议强行爬取的情况，本文不做详解，如有兴趣，可以查看"),n("a",{attrs:{href:"https://baike.baidu.com/item/robots%E5%8D%8F%E8%AE%AE/2483797#7_1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Robots 协议"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("通过下图，简单梳理一下所说内容。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(266),alt:"img"}})]),s._v(" "),n("p",[s._v("虽然上文进行了简要概括，但是可能还是会不明白，爬虫到底"),n("strong",[s._v("爬的是什么")]),s._v("？")]),s._v(" "),n("p",[s._v("其实简单来说，就是爬虫获取了某个特定页面的一段"),n("strong",[s._v("html代码")]),s._v("，这对前端"),n("code",[s._v("er")]),s._v("来并不陌生，只是需要我们将它"),n("strong",[s._v("转换成Dom树")]),s._v("即可。")]),s._v(" "),n("p",[s._v("接下来，再看一下上图中的右半部分，这是一张"),n("strong",[s._v("对比图")])]),s._v(" "),n("p",[n("strong",[s._v("左边")]),s._v("是"),n("strong",[s._v("没有")]),s._v("限定"),n("strong",[s._v("Robots协议")]),s._v("的，正常情况下，类似"),n("code",[s._v("admin/private")]),s._v("以及"),n("code",[s._v("tmp")]),s._v("这三个文件夹是不允许爬取的，但是由于没有"),n("strong",[s._v("Robots协议")]),s._v("，爬虫可以肆无忌惮的爬取。")]),s._v(" "),n("p",[s._v("而"),n("strong",[s._v("右边")]),s._v("是经过"),n("strong",[s._v("Robots协议")]),s._v("限定的，与之相反，像"),n("code",[s._v("Google")]),s._v("这种大型搜索引擎也是通过"),n("strong",[s._v("Robots协议")]),s._v("文件去查看爬取内容的，因此查看到存在"),n("code",[s._v("admin/private")]),s._v("相关的文件夹就会直接跳过。")]),s._v(" "),n("h2",{attrs:{id:"爬虫的基本流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#爬虫的基本流程","aria-hidden":"true"}},[s._v("#")]),s._v(" 爬虫的基本流程")]),s._v(" "),n("p",[s._v("简单来说，爬虫的流程无外乎就以下几点：")]),s._v(" "),n("ul",[n("li",[s._v("爬取数据")]),s._v(" "),n("li",[s._v("数据入库")]),s._v(" "),n("li",[s._v("启动服务")]),s._v(" "),n("li",[s._v("渲染数据")])]),s._v(" "),n("h3",{attrs:{id:"爬取数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#爬取数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 爬取数据")]),s._v(" "),n("p",[s._v("接下来通过代码演示来爬取豆瓣电影页面的电影相关数据。")]),s._v(" "),n("p",[s._v("下图是整体的目录结构。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(267),alt:"img"}})]),s._v(" "),n("p",[s._v("既然是"),n("strong",[s._v("爬取数据")]),s._v("，就需要用到比较出名的工具------- "),n("strong",[s._v("Request")])]),s._v(" "),n("h4",{attrs:{id:"request"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#request","aria-hidden":"true"}},[s._v("#")]),s._v(" Request")]),s._v(" "),n("p",[s._v("那么，"),n("strong",[s._v("Request")]),s._v("到底如何使用呢？看官方代码感受一下。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" request "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.google.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 发生错误打印错误日志")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 响应成功打印状态码")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'statusCode:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("statusCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印Google页面的html 代码体")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'body:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("是不是简单易用？既然"),n("strong",[s._v("html")]),s._v("页面已经抓取完毕，那么就只需要将其转变为"),n("strong",[s._v("Dom")]),s._v("即可。")]),s._v(" "),n("p",[s._v("接下来需要用到另外一个工具----"),n("strong",[s._v("cheeio")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cheerio "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cheerio'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cheerio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<h2 class=\"title\">Hello world</h2>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'h2.title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello there!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'h2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'welcome'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \n$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//=> <html><head></head><body><h2 class="title welcome">Hello there!</h2></body></html>')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("看了上面的代码是否有一种似曾相识的感觉？这不就是"),n("strong",[s._v("JQuery")]),s._v("吗？对，它被开发人员称为"),n("strong",[s._v("Node")]),s._v("界的"),n("strong",[s._v("JQuery")]),s._v("。")]),s._v(" "),n("p",[s._v("既然页面有了，Dom结构也获取到了，那么就开始写爬虫吧。")]),s._v(" "),n("h4",{attrs:{id:"读取内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#读取内容","aria-hidden":"true"}},[s._v("#")]),s._v(" 读取内容")]),s._v(" "),n("p",[s._v("首先根据豆瓣电影的页面进行分析，观察那些是正在热映的电影，先来查看它的"),n("strong",[s._v("Dom")]),s._v("结构。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(268),alt:"img"}})]),s._v(" "),n("p",[s._v("需要的信息已经标注完毕，接下来进入"),n("code",[s._v("read.js")]),s._v("文件中。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// read.js")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// require-promise 让request 可以支持promise写法，类似的库还有request-promise-native,request-promise-any等，需要注意的是这些库依赖于request，因此在下载这些库时务必也要下载request库")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" request "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request-promise'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将抓取的html 代码转换为可操作的dom")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cheeio "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cheeio'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// debug库，用来在调试阶段查看日志")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 最后在运行程序时debug不起作用时，可以在 package.json 中的 scripts 中加入这样一句话：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//   "debug": "@powershell -Command $env:DEBUG=\'*\';node xxx.js"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// xxx 为启动服务的主文件名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" debug "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'debug'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'movie:read'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 读取页面")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("read")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("url")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'开始读取最近上映的电影'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 要爬取的目标页面")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("body")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// body 为目标页面抓取到的html代码")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过 cheerio.load() 方法将html代码转换成可操作的Dom 结构")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cheerio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("$")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 接收数据的空数组")]),s._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//遍历热映电影的li")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 观察页面结构，不同页面标签不尽相同")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#screening li.ui-silde-item'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("each")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("_"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" $ele "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//$ele.data() 可以获取页面中data开头的自定义属性")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $ele"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'title'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" score "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $ele"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rate'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'暂无评分'")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" href "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $ele"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.poster a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("attr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'href'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" image "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $ele"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("attr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 影片的相关id可以从href中获取")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" href "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/d+)/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为了防止豆瓣防盗链导致裂图，换成 webp 格式加载图片")]),s._v("\n            image "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" image "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),s._v(" image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/jpg$/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webp'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            \n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("image "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n            \n            result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("id\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("正在读取电影：")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" read\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br")])]),n("p",[s._v("简单梳理一下上述代码做了什么：")]),s._v(" "),n("ul",[n("li",[s._v("通过"),n("strong",[s._v("request")]),s._v("抓取"),n("code",[s._v("url")]),s._v("页面的"),n("code",[s._v("html")]),s._v("代码")]),s._v(" "),n("li",[n("strong",[s._v("cheerio")]),s._v("将"),n("code",[s._v("html")]),s._v("转换成了"),n("code",[s._v("dom")])]),s._v(" "),n("li",[s._v("将所需的内容"),n("strong",[s._v("存入数组")]),s._v("（名称|评分|地址|图片|id）")]),s._v(" "),n("li",[s._v("返回数组并导出"),n("code",[s._v("read")]),s._v("方法")])]),s._v(" "),n("h3",{attrs:{id:"数据入库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据入库","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据入库")]),s._v(" "),n("p",[s._v("这里通过"),n("strong",[s._v("mysql")]),s._v("建立数据库用以储存数据。")]),s._v(" "),n("p",[s._v("首先安装"),n("strong",[s._v("XAMPP")]),s._v("和"),n("strong",[s._v("Navicat")]),s._v("可视化数据库管理工具。")]),s._v(" "),n("h4",{attrs:{id:"xampp启动mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#xampp启动mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" XAMPP启动mysql")]),s._v(" "),n("p",[n("img",{attrs:{src:a(269),alt:"img"}})]),s._v(" "),n("h4",{attrs:{id:"navicat链接数据库以及建表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#navicat链接数据库以及建表","aria-hidden":"true"}},[s._v("#")]),s._v(" Navicat链接数据库以及建表")]),s._v(" "),n("p",[n("img",{attrs:{src:a(270),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(271),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(272),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(273),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(274),alt:"img"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(275),alt:"img"}})]),s._v(" "),n("p",[s._v("这一部分图有点多，但胜在简洁明了，接下来继续编码。")]),s._v(" "),n("h4",{attrs:{id:"连接数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库","aria-hidden":"true"}},[s._v("#")]),s._v(" 连接数据库")]),s._v(" "),n("p",[s._v("首先，在"),n("code",[s._v("src")]),s._v("目录文件夹下创建一个"),n("code",[s._v("sql")]),s._v("文件，这里创建的文件要与数据库同名，因此叫它"),n("code",[s._v("my_movie.sql")]),s._v("。")]),s._v(" "),n("p",[s._v("接下来编写连接数据库的代码。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// db.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" mysql "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// bluebird 方便支持 promise 语义化")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" bluebird "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bluebird'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建连接")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" db "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("createConnection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主机地址 需要与数据库一致")]),s._v("\n    port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号")]),s._v("\n    database"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my_movie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//需要连接的数据库")]),s._v("\n    user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 数据库用户名")]),s._v("\n    password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 数据库密码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导出数据")]),s._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" bluebird"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("promisify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("db"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("db"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("connect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("数据库创建和连接已经完成，接下来就是将获取的数据导入数据库中。")]),s._v(" "),n("h4",{attrs:{id:"写入数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#写入数据库","aria-hidden":"true"}},[s._v("#")]),s._v(" 写入数据库")]),s._v(" "),n("p",[s._v("打开"),n("code",[s._v("write.js")]),s._v("文件。编写写入数据库的代码")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// write.js")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" query "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./db'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" debug "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'debug'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'movie:write'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 写入数据库的方法 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("write")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("moives")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'开始写入电影'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// movies 即为 read.js 中读取到的 result 数组")]),s._v("\n    movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("score")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过 query 查询 数据库中是否存在该条数据")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" old_movies "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("select * from movies where id=? limit 1")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sql 查询语句返回一个数组，如果数组不为空，说明之前存在过数据，")]),s._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 有数据进行更新")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("old_movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" old_movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将当前数据进行更新")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" old_movie "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" old_movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("update movies set name=?,href=?,image=?,score=? where id=?")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("old_movie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 没有数据则将数据直接插入到数据表中")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("insert into movies(id,name,href,image,score) values(?,?,?,?,?)")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("score\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("正在写入电影：")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" write\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("p",[s._v("上述代码做了什么：")]),s._v(" "),n("ul",[n("li",[s._v("引入"),n("code",[s._v("query")]),s._v("方法来进行SQL语句书写")]),s._v(" "),n("li",[s._v("遍历读取到的"),n("code",[s._v("movies")]),s._v("结果数组")]),s._v(" "),n("li",[s._v("查询数据是否存在\n"),n("ul",[n("li",[s._v("存在：更新该项数据")]),s._v(" "),n("li",[s._v("不存在：插入一条新数据")])])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(276),alt:""}})]),s._v(" "),n("p",[s._v("写完了引入数据库的方法后，来简单i讲解一下SQL语句，毕竟SQL语句是大部分前端"),n("code",[s._v("er")]),s._v("的痛点。")]),s._v(" "),n("h4",{attrs:{id:"sql-语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sql-语句","aria-hidden":"true"}},[s._v("#")]),s._v(" SQL 语句")]),s._v(" "),n("p",[s._v("在上述的"),n("code",[s._v("sql")]),s._v("中存在着许多"),n("code",[s._v("?")]),s._v("标识符，这里的"),n("code",[s._v("?")]),s._v("表示占位符，也可以将数据直接写在"),n("code",[s._v("sql")]),s._v("语句中，但一般来说，因为数据比较敏感，为防止遭受SQL注入攻击，因此建议采用"),n("code",[s._v("?")]),s._v("占位符。")]),s._v(" "),n("p",[s._v("说到"),n("strong",[s._v("SQL")]),s._v("，就不得不说它的四大方法-----"),n("strong",[s._v("增删改查")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("插入数据")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" 表名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("列名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("列名对应值"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例：")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'爬虫'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://news.so.com/hotnews'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解释：")]),s._v("\n\t向"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v("表中插入一条数据，数据的信息为 名字，id，访问地址 以及 相对应的各项数据\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("更新数据")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" 列名"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("更新值 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" 更新条件\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例：")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" articles "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'你好，世界'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("content"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'世界没你想的那么糟！'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解释：")]),s._v("\n\t更新id为"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("的文章，标题和内容都想进行了修改\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意：更新数据时务必加上更新条件，否则会将库中所有数据都进行更新")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("删除数据")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法：")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" 删除条件\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例：")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" tags "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解释：")]),s._v("\n    从标签表"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tags"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("里删除id为"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("的数据\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("查询数据(查询数据比较繁琐，此处只写简单语法，如感兴趣，可以学习一下"),n("code",[s._v("sql")]),s._v("语句)")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("语法：\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" 列名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" 查询条件 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" 排序列名\n栗子：\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("content "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" tags "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n解释：\n    查询id为"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("的标签表里对应信息\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("讲述了一下，接下来回归正题，开始检验代码成果。")])])]),s._v(" "),n("h4",{attrs:{id:"执行读写操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#执行读写操作","aria-hidden":"true"}},[s._v("#")]),s._v(" 执行读写操作")]),s._v(" "),n("p",[s._v("通过"),n("code",[s._v("index.js")]),s._v("页面，将"),n("code",[s._v("read.js")]),s._v("和"),n("code",[s._v("write.js")]),s._v("联系起来。")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" read "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./read'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" write "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./write'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://movie.douban.com'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 目标页面")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 异步抓取目标页面")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" movies "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 写入数据到数据库")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 程序执行完毕，退出")]),s._v("\n    process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("exit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("下图为执行结果")]),s._v(" "),n("p",[n("img",{attrs:{src:a(277),alt:"img"}})]),s._v(" "),n("p",[s._v("接下来查看数据库中是否已经导入数据。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(278),alt:"img"}})]),s._v(" "),n("p",[s._v("可以看到数据已经成功导入到数据库中。")]),s._v(" "),n("p",[s._v("但是，似乎还缺少点什么？")]),s._v(" "),n("p",[s._v("接下来，我们通过简单的页面渲染，将我们爬取到的数据渲染到浏览器中。")]),s._v(" "),n("h3",{attrs:{id:"启动服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动服务")]),s._v(" "),n("p",[s._v("接下来，开始创建一个"),n("code",[s._v("server")]),s._v("服务。")]),s._v(" "),n("h4",{attrs:{id:"server服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#server服务","aria-hidden":"true"}},[s._v("#")]),s._v(" server服务")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// server.js")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" debug "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'debug'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" query "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../src/db'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" serve "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置渲染模板引擎")]),s._v("\nserve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'view engine'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nserve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'views'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nserve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("engine")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ejs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__express"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 首页路由")]),s._v("\nserve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过sql查询语句获取movies表中的数据")]),s._v("\n   \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" movies "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'select * from movies'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 渲染首页模板将 movies 中的数据传递进去")]),s._v("\n    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 监听端口")]),s._v("\nserve"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'server running at port 3000'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[n("code",[s._v("server.js")]),s._v("完成后，最后编写"),n("code",[s._v("index.html")]),s._v("页面，将传递给该页面的数据渲染出来。")]),s._v(" "),n("h3",{attrs:{id:"渲染数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#渲染数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 渲染数据")]),s._v(" "),n("div",{staticClass:"language-ejs line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ejs"}},[n("code",[s._v("// index.html\n\n"),n("span",{pre:!0,attrs:{class:"token doctype"}},[s._v("<!DOCTYPE html>")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("html")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("charset")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("UTF-8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("viewport"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("content")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("width=device-width, initial-scale=1.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("meta")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http-equiv")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("X-UA-Compatible"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("content")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ie=edge"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("热映的电影"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("h2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("caption"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("正在热映的电影"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("h2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("ul")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" movie "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" movies"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n            ")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("movie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("target")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("_blank"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("movie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("image")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("movie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("评分："),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%=")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("movie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("score")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("<%")]),n("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" ")]),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[s._v("%>")])]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[s._v("通过模板引擎遍历"),n("code",[s._v("movies")]),s._v("数组，将数据展示在页面中。")]),s._v(" "),n("p",[s._v("大功告成，接下来，查看一下渲染结果。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(279),alt:"img"}})]),s._v(" "),n("p",[s._v("以上就是关于Node爬虫的全部内容,跟着代码一步一步敲完,也算是对爬虫有了一个基本的了解。")]),s._v(" "),n("h2",{attrs:{id:"原文链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#原文链接","aria-hidden":"true"}},[s._v("#")]),s._v(" 原文链接")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.im/post/5ac9bc56f265da238c3af18f",target:"_blank",rel:"noopener noreferrer"}},[s._v("爬虫，其实本就是这么简单"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/debug",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm-debug"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/cheerio",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm-cheerio"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/request",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm-request"),n("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);