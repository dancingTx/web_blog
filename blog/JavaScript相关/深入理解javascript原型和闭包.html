<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深入理解javascript原型和闭包 | 前端菜鸟的进阶之路</title>
    <meta name="description" content="编程不易，砥砺前行">
    <link rel="icon" href="/web_blog/favicon.png">
    
    <link rel="preload" href="/web_blog/assets/css/0.styles.7a36dbfb.css" as="style"><link rel="preload" href="/web_blog/assets/js/app.91c2830f.js" as="script"><link rel="preload" href="/web_blog/assets/js/2.eab7b1a3.js" as="script"><link rel="preload" href="/web_blog/assets/js/3.79e8f6ea.js" as="script"><link rel="prefetch" href="/web_blog/assets/js/10.b7c51a89.js"><link rel="prefetch" href="/web_blog/assets/js/11.810ef8d7.js"><link rel="prefetch" href="/web_blog/assets/js/12.84690c1b.js"><link rel="prefetch" href="/web_blog/assets/js/13.014fa390.js"><link rel="prefetch" href="/web_blog/assets/js/14.b6a094b6.js"><link rel="prefetch" href="/web_blog/assets/js/15.73574f0c.js"><link rel="prefetch" href="/web_blog/assets/js/16.6d25e66c.js"><link rel="prefetch" href="/web_blog/assets/js/17.6da21962.js"><link rel="prefetch" href="/web_blog/assets/js/18.e4bbeb45.js"><link rel="prefetch" href="/web_blog/assets/js/19.9d29afb6.js"><link rel="prefetch" href="/web_blog/assets/js/20.6e359f8f.js"><link rel="prefetch" href="/web_blog/assets/js/21.b6a44bf0.js"><link rel="prefetch" href="/web_blog/assets/js/22.72395c6d.js"><link rel="prefetch" href="/web_blog/assets/js/23.3cf07315.js"><link rel="prefetch" href="/web_blog/assets/js/24.ce3af049.js"><link rel="prefetch" href="/web_blog/assets/js/25.be8464ab.js"><link rel="prefetch" href="/web_blog/assets/js/26.818e6723.js"><link rel="prefetch" href="/web_blog/assets/js/27.f604fd0e.js"><link rel="prefetch" href="/web_blog/assets/js/28.ea43a8e0.js"><link rel="prefetch" href="/web_blog/assets/js/29.6cbe154c.js"><link rel="prefetch" href="/web_blog/assets/js/30.3cce892a.js"><link rel="prefetch" href="/web_blog/assets/js/31.eb02c772.js"><link rel="prefetch" href="/web_blog/assets/js/32.b6fc1c31.js"><link rel="prefetch" href="/web_blog/assets/js/33.ec19d2a3.js"><link rel="prefetch" href="/web_blog/assets/js/34.e7982556.js"><link rel="prefetch" href="/web_blog/assets/js/35.6a41dc93.js"><link rel="prefetch" href="/web_blog/assets/js/36.de0c92ff.js"><link rel="prefetch" href="/web_blog/assets/js/37.2a90e558.js"><link rel="prefetch" href="/web_blog/assets/js/38.9e70b18a.js"><link rel="prefetch" href="/web_blog/assets/js/39.89f71dfd.js"><link rel="prefetch" href="/web_blog/assets/js/4.25ef38aa.js"><link rel="prefetch" href="/web_blog/assets/js/40.e174e7e4.js"><link rel="prefetch" href="/web_blog/assets/js/41.db4885dc.js"><link rel="prefetch" href="/web_blog/assets/js/42.3319ecbf.js"><link rel="prefetch" href="/web_blog/assets/js/43.cc6ba545.js"><link rel="prefetch" href="/web_blog/assets/js/44.0b03addc.js"><link rel="prefetch" href="/web_blog/assets/js/45.7759f79c.js"><link rel="prefetch" href="/web_blog/assets/js/46.b64c0a3b.js"><link rel="prefetch" href="/web_blog/assets/js/47.ec610bc0.js"><link rel="prefetch" href="/web_blog/assets/js/48.1d911c4b.js"><link rel="prefetch" href="/web_blog/assets/js/49.6e433bb5.js"><link rel="prefetch" href="/web_blog/assets/js/5.746bcae1.js"><link rel="prefetch" href="/web_blog/assets/js/50.cae10208.js"><link rel="prefetch" href="/web_blog/assets/js/51.172c43fc.js"><link rel="prefetch" href="/web_blog/assets/js/52.2d0abb1b.js"><link rel="prefetch" href="/web_blog/assets/js/53.6601a9d1.js"><link rel="prefetch" href="/web_blog/assets/js/54.4db27d09.js"><link rel="prefetch" href="/web_blog/assets/js/55.b676ed30.js"><link rel="prefetch" href="/web_blog/assets/js/56.2f94d7d3.js"><link rel="prefetch" href="/web_blog/assets/js/57.739d9718.js"><link rel="prefetch" href="/web_blog/assets/js/58.14252a7f.js"><link rel="prefetch" href="/web_blog/assets/js/59.9c05cedd.js"><link rel="prefetch" href="/web_blog/assets/js/6.d8f4b14d.js"><link rel="prefetch" href="/web_blog/assets/js/60.10980736.js"><link rel="prefetch" href="/web_blog/assets/js/61.6dbb0bf2.js"><link rel="prefetch" href="/web_blog/assets/js/62.2b9de86f.js"><link rel="prefetch" href="/web_blog/assets/js/63.3c461591.js"><link rel="prefetch" href="/web_blog/assets/js/64.cb9c7ff9.js"><link rel="prefetch" href="/web_blog/assets/js/65.3027aedc.js"><link rel="prefetch" href="/web_blog/assets/js/66.8fa94b0b.js"><link rel="prefetch" href="/web_blog/assets/js/67.1196783a.js"><link rel="prefetch" href="/web_blog/assets/js/68.9e3adf92.js"><link rel="prefetch" href="/web_blog/assets/js/69.30b26df4.js"><link rel="prefetch" href="/web_blog/assets/js/7.bef0e458.js"><link rel="prefetch" href="/web_blog/assets/js/70.ea55f415.js"><link rel="prefetch" href="/web_blog/assets/js/71.99deb135.js"><link rel="prefetch" href="/web_blog/assets/js/72.b411f500.js"><link rel="prefetch" href="/web_blog/assets/js/73.ae212902.js"><link rel="prefetch" href="/web_blog/assets/js/74.c42cb468.js"><link rel="prefetch" href="/web_blog/assets/js/75.4841d167.js"><link rel="prefetch" href="/web_blog/assets/js/76.8152f076.js"><link rel="prefetch" href="/web_blog/assets/js/77.5650be83.js"><link rel="prefetch" href="/web_blog/assets/js/78.13e5f2de.js"><link rel="prefetch" href="/web_blog/assets/js/79.981af0a6.js"><link rel="prefetch" href="/web_blog/assets/js/8.e30cf33c.js"><link rel="prefetch" href="/web_blog/assets/js/80.79c69641.js"><link rel="prefetch" href="/web_blog/assets/js/81.acfa7b78.js"><link rel="prefetch" href="/web_blog/assets/js/82.4422108d.js"><link rel="prefetch" href="/web_blog/assets/js/83.65d9e4db.js"><link rel="prefetch" href="/web_blog/assets/js/84.b8c62118.js"><link rel="prefetch" href="/web_blog/assets/js/9.ebc19581.js">
    <link rel="stylesheet" href="/web_blog/assets/css/0.styles.7a36dbfb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web_blog/" class="home-link router-link-active"><!----> <span class="site-name">前端菜鸟的进阶之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web_blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/web_blog/blog/" class="nav-link router-link-active">技术·博文</a></div><div class="nav-item"><a href="/web_blog/question/" class="nav-link">经典·面试</a></div> <a href="https://github.com/dancingTx/web_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web_blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/web_blog/blog/" class="nav-link router-link-active">技术·博文</a></div><div class="nav-item"><a href="/web_blog/question/" class="nav-link">经典·面试</a></div> <a href="https://github.com/dancingTx/web_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS知识汇总</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web_blog/blog/JavaScript相关/JS知识概览.html" class="sidebar-link">JS知识概览</a></li><li><a href="/web_blog/blog/JavaScript相关/JS所有内置对象属性和方法汇总.html" class="sidebar-link">JS所有内置对象属性和方法汇总</a></li><li><a href="/web_blog/blog/JavaScript相关/由数组去重谈性能优化.html" class="sidebar-link">论高性能数组去重</a></li><li><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html" class="active sidebar-link">深入理解javascript原型和闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_1-一切都是对象" class="sidebar-link">1.一切都是对象</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_2-函数和对象的关系" class="sidebar-link">2.函数和对象的关系</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_3-prototype原型" class="sidebar-link">3.prototype原型</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_4-隐式原型" class="sidebar-link">4.隐式原型</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_5-instanceof" class="sidebar-link">5.instanceof</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_6-继承" class="sidebar-link">6.继承</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_7-原型的灵活性" class="sidebar-link">7.原型的灵活性</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_8-简述【执行上下文】上" class="sidebar-link">8.简述【执行上下文】上</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_9-简述【执行上下文】下" class="sidebar-link">9.简述【执行上下文】下</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_10-this" class="sidebar-link">10.this</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#执行上下文栈" class="sidebar-link">执行上下文栈</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_12-简介【作用域】" class="sidebar-link">12.简介【作用域】</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_13-【作用域】-和-【执行上下文环境】" class="sidebar-link">13.【作用域】 和 【执行上下文环境】</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_14-从【自由变量】到【作用域链】" class="sidebar-link">14.从【自由变量】到【作用域链】</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#_15-闭包" class="sidebar-link">15.闭包</a></li><li class="sidebar-sub-header"><a href="/web_blog/blog/JavaScript相关/深入理解javascript原型和闭包.html#原文链接" class="sidebar-link">原文链接</a></li></ul></li><li><a href="/web_blog/blog/JavaScript相关/Console不止log.html" class="sidebar-link">console 不止 log</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS框架-Vue篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS框架-React篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NPM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端自动化及工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5中的WebAPI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软技能</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/web_blog/blog/声明.html" class="sidebar-link">声明</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="深入理解javascript原型和闭包"><a href="#深入理解javascript原型和闭包" aria-hidden="true" class="header-anchor">#</a> 深入理解javascript原型和闭包</h1> <h2 id="_1-一切都是对象"><a href="#_1-一切都是对象" aria-hidden="true" class="header-anchor">#</a> 1.一切都是对象</h2> <p>“一切都是对象”这句话的重点在于如何去理解“对象”这个概念。</p> <p>当然，也不是多有的都是对象，值类型就不是对象。</p> <p>首先咱们还是先看看Javascript中的一个常用的运算符-------typeof。typeof应该算是咱们的老朋友，还有谁没用过它？</p> <p>typeof函数输出的一共有几种类型，在此列出：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// undefined</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// number</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// boolean</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//function</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//symbol es6新增</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//object</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//object</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//object</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//object</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>以上代码列出了typeof输出的集中类型标识，其中上面的四种（undefined, number, string, boolean,symbol(es6)）属于简单的值类型，不是对象。剩下的几种情况——函数、数组、对象、null、new Number(10)都是对象。他们都是引用类型。</p> <p>判断一个变量是不是对象非常简单。值类型的类型判断用typeof，引用类型的类型判断用instanceof。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>好了，上面说了半天对象，各位可能也经常在工作中应对对象，在生活中还得应对活生生的对象。有些个心理不正常或者爱开玩笑的单身人士，还对于系统提示的“找不到对象”耿耿于怀。那么在javascript中的对象，到底该如何定义呢？</p> <p><strong>对象----若干属性的集合</strong>。</p> <p>java或者C#中的对象都是new一个class出来的，而且里面有字段、属性、方法，规定的非常严格。但是javascript就比较随意了——数组是对象，函数是对象，对象还是对象。对象里面的一切都是属性，只有属性，没有方法。那么这样方法如何表示呢？——方法也是一种属性。因为它的属性表示为键值对的形式。</p> <p>而且，更加好玩的事，javascript中的对象可以任意的扩展属性，没有class的约束。这个大家应该都知道，就不再强调了。</p> <p>先说个最常见的例子：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中，obj是一个自定义的对象，其中a、b、c就是它的属性，而且在c的属性值还是一个对象，它又有name、year两个属性。</p> <p>这个可能比较好理解，那么函数和数组也可以这样定义属性吗？——当然不行，但是它可以用另一种形式，总之函数/数组之流，只要是对象，它就是属性的集合。</p> <p>以函数为例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
fn<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
fn<span class="token punctuation">.</span><span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
fn<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;王福朋&quot;</span><span class="token punctuation">,</span>
    year<span class="token punctuation">:</span> <span class="token number">1988</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上段代码中，函数就作为对象被赋值了a、b、c三个属性——很明显，这就是属性的集合吗。</p> <p>你问：这个有用吗？</p> <p>回答：可以看看jQuery源码！</p> <p>在jQuery源码中，“jQuery”或者“$”，这个变量其实是一个函数，不信你可以叫咱们的老朋友typeof验证一下。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> $<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token string">&quot; ABC &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>验明正身！的确是个函数。那么咱们常用的 $.trim() 也是个函数，经常用，就不用验了吧！</p> <p>很明显，这就是在$或者jQuery函数上加了一个trim属性，属性值是函数，作用是截取前后空格。</p> <p>javascript与java/C#相比，首先最需要解释的就是弱类型，因为弱类型是最基本的用法，而且最常用，就不打算做一节来讲。</p> <p>其次要解释的就是本文的内容——一切（引用类型）都是对象，对象是<strong>属性的集合</strong>。最需要了解的就是对象的概念，和java/C#完全不一样。所以，切记切记！</p> <p>最后，有个疑问。在typeof的输出类型中，function和object都是对象，为何却要输出两种答案呢？都叫做object不行吗？——当然不行。</p> <p>具体原因，且听下回分解！</p> <h2 id="_2-函数和对象的关系"><a href="#_2-函数和对象的关系" aria-hidden="true" class="header-anchor">#</a> 2.函数和对象的关系</h2> <p>上文已经提到，函数就是对象的一种，因为通过instanceof函数可以判断。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对！函数是一种对象，但是函数却不像数组一样——你可以说数组是对象的一种，因为数组就像是对象的一个子集一样。但是函数与对象之间，却不仅仅是一种包含和被包含的关系，函数和对象之间的关系比较复杂，甚至有一点鸡生蛋蛋生鸡的逻辑，咱们这一节就缕一缕。</p> <p>还是先看一个小例子吧。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王福朋'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">1988</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fn1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面的这个例子很简单，它能说明：对象可以通过函数来创建。对！也只能说明这一点。</p> <p>但是我要说——<strong>对象都是通过函数创建的</strong>——有些人可能反驳：不对！因为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但是不好意思，这个——真的——是一种——“快捷方式”，在编程语言中，一般叫做“语法糖”。</p> <p>做“语法糖”做的最好的可谓是微软大哥，它把他们家C#那小子弄的不男不女从的，本想图个人见人爱，谁承想还得到处跟人解释——其实它是个男孩！</p> <p>话归正传——其实以上代码的本质是：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>而其中的 Object 和 Array 都是函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>Object<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>Array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所以，可以很负责任的说——对象都是通过函数来创建的。</p> <p>现在是不是糊涂了—— 对象是函数创建的，而函数却又是一种对象——天哪！函数和对象到底是什么关系啊？</p> <p>别着急！揭开这个谜底，还得先去了解一下另一位老朋友——prototype原型。</p> <p>本系列文章不打算动辄几千字的长篇大论，咱们小步快跑，不至于看的太乏味。</p> <h2 id="_3-prototype原型"><a href="#_3-prototype原型" aria-hidden="true" class="header-anchor">#</a> 3.prototype原型</h2> <p>既typeof之后的另一位老朋友！</p> <p>prototype也是我们的老朋友，即使不了解的人，也应该都听过它的大名。如果它还是您的新朋友，我估计您也是javascript的新朋友。</p> <p>在咱们的第一节中说道，函数也是一种对象。他也是属性的集合，你也可以对函数进行自定义属性。</p> <p>不用等咱们去试验，javascript自己就先做了表率，人家就默认的给函数一个属性——prototype。对，每个函数都有一个属性叫做prototype。</p> <p>这个prototype的属性值是一个对象（属性的集合，再次强调！），默认的只有一个叫做constructor的属性，指向这个函数本身。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上图，SuperType是是一个函数，右侧的方框就是它的原型。</p> <p>原型既然作为对象，属性的集合，不可能就只弄个constructor来玩玩，肯定可以自定义的增加许多属性。例如这位Object大哥，人家的prototype里面，就有好几个其他属性。</p> <p><img src="/web_blog/assets/img/172130097842386.a0d61363.png" alt=""></p> <p>咦，有些方法怎么似曾相似？</p> <p>对！别着急，之后会让你知道他们为何似曾相识。</p> <p>接着往下说，你也可以在自己自定义的方法的prototype中新增自己的属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王福朋'</span><span class="token punctuation">;</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getYear</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1988</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>看到没有，这样就变成了</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>没问题！</p> <p>但是，这样做有何用呢？ —— 解决这个问题，咱们还是先说说jQuery吧。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> $div <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$div<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myName'</span><span class="token punctuation">,</span> <span class="token string">'王福朋'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>以上代码中，$('div')返回的是一个对象，对象——被函数创建的。假设创建这一对象的函数是 myjQuery。它其实是这样实现的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myjQuery<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">attr</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//……</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myjQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>不知道大家有没有看明白。</p> <p>如果用咱们自己的代码来演示，就是这样</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王福朋'</span><span class="token punctuation">;</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getYear</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1988</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>即，Fn是一个函数，fn对象是从Fn函数new出来的，这样fn对象就可以调用Fn.prototype中的属性。</p> <p>因为每个对象都有一个隐藏的属性——“__ proto__ ”，这个属性引用了创建这个对象的函数的prototype。即：fn.__ proto__ === Fn.prototype</p> <p>这里的&quot;__ proto__&quot;成为“隐式原型”，下回继续分解。</p> <h2 id="_4-隐式原型"><a href="#_4-隐式原型" aria-hidden="true" class="header-anchor">#</a> 4.隐式原型</h2> <p>上节已经提到，每个函数function都有一个prototype，即原型。这里再加一句话——每个对象都有一个__ proto__，可成为隐式原型。</p> <p>这个__ proto__ 是一个隐藏的属性，javascript不希望开发者用到这个属性值，有的低版本浏览器甚至不支持这个属性值。所以你在Visual Studio 2012这样很高级很智能的编辑器中，都不会有__ proto__的智能提示，但是你不用管它，直接写出来就是了。</p> <p>（由于操作原型proto会对浏览器的性能造成一定影响，因此在es6中推荐使用getPrototypeOf代替xx.prototype,用setPrototypeOf代替 xx.Prototype === xx.__ proto__）</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAAAnCAIAAAF3XTqZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPuSURBVGhD7ZWBdqwgDET7/z/dRoemYxIQFF203NO3HYYQQuBtv74vICX9+k3+9Qs0TIH1LnGoT3E2qa6vTBRUsPxbUQHYNxrAEaBhCsnqzkya6NjfSyq9gllob6oK9U+txqknt5b949lv5kWFav9rLug6lj1kI92LNZA6UIoWpA5gfR283/LDoAKtI1fQ3YWWuaeaAh/evp7+hV7U+yUpUuc+AWugMTqlDg8NbOZ0iE0qAmAo6NALaC+gVTAwhTReMUNgY9Lv4XlMoU+hT0PDN9bE+QyD8HcMnIjPVT4jt8C3o7VBL2yowIcSjaEKj3ZBBMBQYF1DGN+aZASeV/Hg9Gno8jj3XlNNDPBhNc6dFHbfTEichrIAPFQNIRjNQ8XEJLWNN74KwEPoXRAsQOunEUCHEAU4ZqPT70KEyw7H+Dr08UoYk4svx+RWeWryCzqszxxyanEv5Az1x8gFwxe8XuePgCSC0QY2j282CZkN7cnsZk86dNN/oYRfMTUcXjgIY1X/km7KKfRHh943bP6iZTQQR0lWRHl2fLLV67nKB+Tzn+/Fe7opBwnPUj7g7CYTV49Dyaf+hOjhRXRpRJckH6R/9b06+0T+6bEvYnazJ326WfNf+/B/f79w2G+S4cp6xHdursiNy0HQ/AmhWmCtmJgcGoN4AUOGzZwug0j9VNbJvzxsCqybKC2r2aDVZ1pjauJzYK3PkMt5bK/SGs7Yd1cQrjVmTQ01YK3PkMtZ3iu7Kv1e4SBo+VTBQ6CafaMhBPYF1oIZAjWXlcWAMghbcyzAFGp0EweXdWQ5X0v1YTzMHCmokbTYkaYjPt/NNzG72ZPZzcm4zNe5gf/SsJ58hIG6v/sUbnguJv/V203KPOl13sB8nUMRdJ9vpEZjqI6ZCtFb5+sXbYZJEaHZi/t3nJSJW48b8fciTjjlIwuY+9Zhzmd234oEeNJcBSa4ae2kO9nu+3tRR4SZbb1EvXW+/pqXcfVzqalhchsP6D4/kRtep27B2lOYmvRitngyLvN1TsZlvs5a5p/yMxzr3nAd7/UIOj6mylS7YRJQmeqttB5/uGb1ur/787zj5V19iqb8cSinCLUxzdAIgbUQxoBdxweEhGFq8mxOg6Y8ZpgUEZonWbeN9+Up4xuheEcoxLfSlKFUisH4uYp5KBqk8UrTUFjWb0kTRXyYcXi4JF1JY8KbxtFhzmdC8ySFfWtqKA+F3YAmmpbHoZwi1LkA4XAM2HV4rZliwik1zeyS6JdkEd5Uh6dM2G4q0WFMKyZPTjPq+4BwqhDfROvyU5u9A9OyXAcPXwwvPJykwBU5u7NbZBjwgINN/i3zdU5G5fv7B7/oaM/FMAAiAAAAAElFTkSuQmCC" alt=""></p> <p><img src="/web_blog/assets/img/181508340651970.6fa0be1b.png" alt=""></p> <p>上面截图看来，obj.__ proto__和Object.prototype的属性一样！这么巧！</p> <p>答案就是一样。</p> <p>obj这个对象本质上是被Object函数创建的，因此obj.__ proto__=== Object.prototype。我们可以用一个图来表示。</p> <p><img src="/web_blog/assets/img/181509180812624.924f5251.png" alt=""></p> <p>即，每个对象都有一个__ proto__属性，指向创建该对象的函数的prototype。</p> <p>那么上图中的“Object prototype”也是一个对象，它的__ proto__指向哪里？</p> <p>好问题！</p> <p>在说明“Object prototype”之前，先说一下自定义函数的prototype。自定义函数的prototype本质上就是和 var obj = {} 是一样的，都是被Object创建，所以它的__ proto__指向的就是Object.prototype。</p> <p>但是Object.prototype确实一个特例——它的__ proto__指向的是null，切记切记！</p> <p><img src="/web_blog/assets/img/181510403153733.661d7733.png" alt=""></p> <p>还有——函数也是一种对象，函数也有__ proto__吗？</p> <p>又一个好问题！——当然有。</p> <p>函数也不是从石头缝里蹦出来的，函数也是被创建出来的。谁创建了函数呢？——Function——注意这个大写的“F”。</p> <p>且看如下代码。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中，第一种方式是比较传统的函数创建方式，第二种是用new Functoin创建。</p> <p>首先根本不推荐用第二种方式。</p> <p>这里只是向大家演示，函数是被Function创建的。</p> <p>好了，根据上面说的一句话——对象的__ proto__ 指向的是创建它的函数的prototype，就会出现：Object.__ proto__ === Function.prototype。用一个图来表示。</p> <p><img src="/web_blog/assets/img/181512068463597.e4b41294.png" alt=""></p> <p>上图中，很明显的标出了：自定义函数Foo.__ proto__ 指向Function.prototype，Object.__ proto__ 指向Function.prototype，唉，怎么还有一个……Function.__ proto__指向Function.prototype？这不成了循环引用了？</p> <p>对！是一个环形结构。</p> <p>其实稍微想一下就明白了。Function也是一个函数，函数是一种对象，也有__ proto__ 属性。既然是函数，那么它一定是被Function创建。所以——Function是被自身创建的。所以它的__ proto__指向了自身的Prototype。</p> <p>篇幅不少了，估计也都看烦了。快结束了。</p> <p>最后一个问题：Function.prototype指向的对象，它的__ proto__是不是也指向Object.prototype？</p> <p>答案是肯定的。因为Function.prototype指向的对象也是一个普通的被Object创建的对象，所以也遵循基本的规则。</p> <p><img src="/web_blog/assets/img/181512489403338.4d37f145.png" alt=""></p> <p>OK 本节结束，是不是很乱？</p> <p>乱很正常。那这一节就让它先乱着，下一节我们将请另一个老朋友来帮忙，把它理清楚。这位老朋友就是——instanceof。</p> <p>具体内容，请看下节分解。</p> <h2 id="_5-instanceof"><a href="#_5-instanceof" aria-hidden="true" class="header-anchor">#</a> 5.instanceof</h2> <p>又介绍一个老朋友——instanceof。</p> <p>对于值类型，你可以通过typeof判断，string/number/boolean都很清楚，但是typeof在判断到引用类型的时候，返回值只有object/function，你不知道它到底是一个object对象，还是数组，还是new Number等等。</p> <p>这个时候就需要用到instanceof。例如：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>上图中，f1这个对象是被Foo创建，但是“f1 instanceof Object”为什么是true呢？</p> <p>至于为什么过会儿再说，先把instanceof判断的规则告诉大家。根据以上代码看下图：</p> <p><img src="/web_blog/assets/img/181635468939277.d9da7b9c.png" alt=""></p> <p>Instanceof运算符的第一个变量是一个对象，暂时称为A；第二个变量一般是一个函数，暂时称为B。</p> <p>Instanceof的判断队则是：沿着A的__ proto__这条线来找，同时沿着B的prototype这条线来找，如果两条线能找到同一个引用，即同一个对象，那么就返回true。如果找到终点还未重合，则返回false。</p> <p>按照以上规则，大家看看“ f1 instanceof Object ”这句代码是不是true？ 根据上图很容易就能看出来，就是true。</p> <p>通过上以规则，你可以解释很多比较怪异的现象，例如：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这些看似很混乱的东西，答案却都是true，这是为何？</p> <p>正好，这里也接上了咱们上一节说的“乱”。</p> <p>上一节咱们贴了好多的图片，其实那些图片是可以联合成一个整体的，即：</p> <p><img src="/web_blog/assets/img/181637013624694.ffd75fde.png" alt=""></p> <p>看这个图片，千万不要嫌烦，必须一条线一条线挨着分析。如果上一节你看的比较仔细，再结合刚才咱们介绍的instanceof的概念，相信能看懂这个图片的内容。</p> <p>看看这个图片，你也就知道为何上面三个看似混乱的语句返回的是true了。</p> <p>问题又出来了。Instanceof这样设计，到底有什么用？到底instanceof想表达什么呢？</p> <p>重点就这样被这位老朋友给引出来了——继承——原型链。</p> <p>即，instanceof表示的就是一种继承关系，或者原型链的结构。请看下节分解。</p> <h2 id="_6-继承"><a href="#_6-继承" aria-hidden="true" class="header-anchor">#</a> 6.继承</h2> <p>为何用“继承”为标题，而不用“原型链”？</p> <p>原型链如果解释清楚了很容易理解，不会与常用的java/C#产生混淆。而“继承”确实常用面向对象语言中最基本的概念，但是java中的继承与javascript中的继承又完全是两回事儿。因此，这里把“继承”着重拿出来，就为了体现这个不同。</p> <p>javascript中的继承是通过原型链来体现的。先看几句代码</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中，f1是Foo函数new出来的对象，f1.a是f1对象的基本属性，f1.b是怎么来的呢？——从Foo.prototype得来，因为f1.__ proto__指向的是Foo.prototype</p> <p>访问一个对象的属性时，先在基本属性中查找，如果没有，再沿着__ proto__这条链向上找，这就是原型链。</p> <p>看图说话：</p> <p><img src="/web_blog/assets/img/182013450814552.717594c5.png" alt=""></p> <p>上图中，访问f1.b时，f1的基本属性中没有b，于是沿着__ proto__找到了Foo.prototype.b。</p> <p>那么我们在实际应用中如何区分一个属性到底是基本的还是从原型中找到的呢？大家可能都知道答案了——hasOwnProperty，特别是在for…in…循环中，一定要注意。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>等等，不对！ f1的这个hasOwnProperty方法是从哪里来的？ f1本身没有，Foo.prototype中也没有，哪儿来的？</p> <p>好问题。</p> <p>它是从Object.prototype中来的，请看图：</p> <p><img src="/web_blog/assets/img/182014277067963.7f2e3538.png" alt=""></p> <p>对象的原型链是沿着__ proto__这条线走的，因此在查找f1.hasOwnProperty属性时，就会顺着原型链一直查找到Object.prototype。</p> <p>由于所有的对象的原型链都会找到Object.prototype，因此所有的对象都会有Object.prototype的方法。这就是所谓的“继承”。</p> <p>当然这只是一个例子，你可以自定义函数和对象来实现自己的继承。</p> <p>说一个函数的例子吧。</p> <p>我们都知道每个函数都有call，apply方法，都有length，arguments，caller等属性。为什么每个函数都有？这肯定是“继承”的。函数由Function函数创建，因此继承的Function.prototype中的方法。不信可以请微软的Visual Studio老师给我们验证一下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>看到了吧，有call、length等这些属性。</p> <p>那怎么还有hasOwnProperty呢？——那是Function.prototype继承自Object.prototype的方法。有疑问可以看看上一节将instanceof时候那个大图，看看Function.prototype.__ proto__是否指向Object.prototype。</p> <p>原型、原型链，大家都明白了吗？</p> <h2 id="_7-原型的灵活性"><a href="#_7-原型的灵活性" aria-hidden="true" class="header-anchor">#</a> 7.原型的灵活性</h2> <p>在Java和C#中，你可以简单的理解class是一个模子，对象就是被这个模子压出来的一批一批月饼（中秋节刚过完）。压个啥样，就得是个啥样，不能随便动，动一动就坏了。</p> <p>而在javascript中，就没有模子了，月饼被换成了面团，你可以捏成自己想要的样子。</p> <p>首先，对象属性可以随时改动。</p> <p>对象或者函数，刚开始new出来之后，可能啥属性都没有。但是你可以这会儿加一个，过一会儿在加两个，非常灵活。</p> <p>在jQuery的源码中，对象被创建时什么属性都没有，都是代码一步一步执行时，一个一个加上的。</p> <p><img src="/web_blog/assets/img/182102552534656.6f2ffaa2.png" alt=""></p> <p>其次，如果继承的方法不合适，可以做出修改。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上图，Object和Array的toString()方法不一样。肯定是Array.prototype.toString()方法做了修改。</p> <p>同理，我也可以自定义一个函数，并自己去修改prototype.toString()方法。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>最后，如果感觉当前缺少你要用的方法，可以自己去创建。</p> <p>例如在json2.js源码中，为Date、String、Number、Boolean方法添加一个toJSON的属性。</p> <p><img src="/web_blog/assets/img/182104105812645.361ead57.png" alt=""></p> <p>如果你要添加内置方法的原型属性，最好做一步判断，如果该属性不存在，则添加。如果本来就存在，就没必要再添加了。</p> <h2 id="_8-简述【执行上下文】上"><a href="#_8-简述【执行上下文】上" aria-hidden="true" class="header-anchor">#</a> 8.简述【执行上下文】上</h2> <p>什么是“执行上下文”（也叫做“执行上下文环境”）？暂且不下定义，先看一段代码：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>第一句报错，a未定义，很正常。第二句、第三句输出都是undefined，说明浏览器在执行console.log(a)时，已经知道了a是undefined，但却不知道a是10（第三句中）。</p> <p>在一段js代码拿过来真正一句一句运行之前，浏览器已经做了一些“准备工作”，其中就包括对变量的声明，而不是赋值。变量赋值是在赋值语句执行的时候进行的。可用下图模拟：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这是第一种情况。</p> <p>下面还有。先来个简单的。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>有js开发经验的朋友应该都知道，你无论在哪个位置获取this，都是有值的。至于this的取值情况，比较复杂，会专门拿出一篇文章来讲解。</p> <p>与第一种情况不同的是：第一种情况只是对变量进行声明（并没有赋值），而此种情况直接给this赋值。这也是“准备工作”情况要做的事情之一。</p> <p>下面还有。。。第三种情况。</p> <p>在第三种情况中，需要注意代码注释中的两个名词——“函数表达式”和“函数声明”。虽然两者都很常用，但是这两者在“准备工作”时，却是两种待遇。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>看以上代码。“函数声明”时我们看到了第二种情况的影子，而“函数表达式”时我们看到了第一种情况的影子。</p> <p>没错。在“准备工作”中，对待函数表达式就像对待“ var a = 10 ”这样的变量一样，只是声明。而对待函数声明时，却把函数整个赋值了。</p> <p>好了，“准备工作”介绍完毕。</p> <p>我们总结一下，在“准备工作”中完成了哪些工作：</p> <ul><li>变量、函数表达式——变量声明，默认赋值为undefined；</li> <li>this——赋值；</li> <li>函数声明——赋值；</li></ul> <p>这三种数据的准备情况我们称之为“执行上下文”或者“执行上下文环境”。</p> <p>这里插一句题外话：通过以上三种情况，你可能会联想到网上的有些考js语法的题目/面试题。的确，几乎每个js语法题中都有这种题目出现。之前你遇到这种题目是不是靠背诵来解决？背过了，隔几天又忘记了。——任何问题，都要去追根溯源，要知道这个问题是真正出自哪一块知识点，要真正去理解。光靠背诵是没用的。</p> <p>细心的朋友可能会发现，我们上面所有的例子都是在全局环境下执行的。</p> <p>其实，javascript在执行一个代码段之前，都会进行这些“准备工作”来生成执行上下文。这个“代码段”其实分三种情况——全局代码，函数体，eval代码。</p> <p>这里解释一下为什么代码段分为这三种。</p> <p>所谓“代码段”就是一段文本形式的代码。</p> <p>首先，全局代码是一种，这个应该没有非议，本来就是手写文本到<code>&lt;script&gt;</code>标签里面的。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>其次，eval代码接收的也是一段文本形式的代码。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAAiCAIAAAEpOdVFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJkSURBVGhD7ZdbjsIwDEXZBPv/mIUyprcY41eStkwZ4iNUOTeO4weq4HLbxxHnLw8gET/XK574QHT5hPw3s/uw7Jkk7xlxbtpn0XV3s3dN3Agvd9u5RZO0bMjv43v+JupuiX3Bgm1f+OjU/Q7cRE+w6BqbAT3xgShxRcvzpujWiOgC1lVmNv7YfcdSd09FlT0Tu8oefQ/2IN+JMBipwLY+oJmY3nYPHPWaJ/J0EzYcSXjWQ7UlNfMTRoIsjJ6cLtswWCekzUgf2FhKfTONGr6VKnsmquyZqLJnospuYX+r5D9dtv2u6D8SeeZZgbFpuxGT8npqcH1kTOkQBZT+PTzLuI9yqUo+pUFEtiTKkjNTT9ZZBNJWuP6SZp6rZP3ck65osWn11EBEtqIZNskNOPVIoPNuMxzysGlF+RHRlqsncYZ4lkElueWxDoOATkibocyQHAxOVOkQgVxKH2vzEgYUhcrKTdKRvoxJy3apsmeiyi6+nRr2RNSwJ6KGPRE17Ik4edjqD2H+H/pEjk2pGU31wf3bvIH3DjvJ0m6pCnsYct6Ge0Uk8meVFhJ9tV6Bbnf3j/ycYR/1VY36NUred4vVlcLLSAc2Ts7OvunDKhwvpd5jA6uASLfIdtjWNBV1nJeJm2RUB3aXFPdIHsfS3zcXZzyKdeNxk1TA4hVurdYrke7CnbKtcRX1WTfSzkZbR+mMcmj6K4b6ZmmMJ18SrJCR7FqSLQm3gwzbmqYil9aZ4a1mQNB0iwLKpQ2S09mxhL3nd7K/gL9hdDA5h4+5s43/o9fFIdSwJ6KGPRE17ImoYU/D7fYLDYRG4EMpUMkAAAAASUVORK5CYII=" alt=""></p> <p>最后，函数体是代码段是因为函数在创建时，本质上是 new Function(…) 得来的，其中需要传入一个文本形式的参数作为函数体。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这样解释应该能理解了。</p> <p>最后，eval不常用，也不推荐大家用。</p> <p>下一节我们介绍函数的情况，并一起总结一下执行上下文到底包含哪些内容。敬请期待。</p> <h2 id="_9-简述【执行上下文】下"><a href="#_9-简述【执行上下文】下" aria-hidden="true" class="header-anchor">#</a> 9.简述【执行上下文】下</h2> <p>继续上一篇文章的内容。</p> <p>上一篇我们讲到在全局环境下的代码段中，执行上下文环境中有如何数据：</p> <ul><li>变量、函数表达式——变量声明，默认赋值为undefined；</li> <li>this——赋值；</li> <li>函数声明——赋值；</li></ul> <p>如果在函数中，除了以上数据之外，还会有其他数据。先看以下代码：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码展示了在函数体的语句执行之前，arguments变量和函数的参数都已经被赋值。从这里可以看出，函数每被调用一次，都会产生一个新的执行上下文环境。因为不同的调用可能就会有不同的参数。</p> <p>另外一点不同在于，函数在定义的时候（不是调用的时候），就已经确定了函数体内部自由变量的作用域。至于“自由变量”和“作用域”是后面要专门拿出来讲述的重点，这里就先点到为止。用一个例子说明一下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>好了，总结完了函数的附加内容，我们就此要全面总结一下上下文环境的数据内容。</p> <p>全局代码的上下文环境数据内容为：</p> <table><thead><tr><th style="text-align:left;">普通变量（包括函数表达式），如： var a = 10;</th> <th>声明（默认赋值为undefined）</th></tr></thead> <tbody><tr><td style="text-align:left;">函数声明，如： function fn() { }</td> <td>赋值</td></tr> <tr><td style="text-align:left;">this</td> <td>赋值</td></tr></tbody></table> <p>如果代码段是函数体，那么在此基础上需要附加：</p> <table><thead><tr><th>参数</th> <th>赋值</th></tr></thead> <tbody><tr><td>arguments</td> <td>赋值</td></tr> <tr><td>自由变量的取值作用域</td> <td>赋值</td></tr></tbody></table> <p>给执行上下文环境下一个通俗的定义——在执行代码之前，把将要用到的所有的变量都事先拿出来，有的直接赋值了，有的先用undefined占个空。</p> <p>了解了执行上下文环境中的数据信息，你就不用再去死记硬背那些可恶的面试题了。理解了就不用背诵！</p> <p>讲完了上下文环境，又来了新的问题——在执行js代码时，会有数不清的函数调用次数，会产生许多个上下文环境。这么多上下文环境该如何管理，以及如何销毁而释放内存呢？下一节将通过“执行上下文栈”来解释这个问题。</p> <p>不过别着急，在解释“执行上下文栈”之前，还需要把this说一下，this还是挺重要的。</p> <p>说完this，接着说执行上下文栈。</p> <h2 id="_10-this"><a href="#_10-this" aria-hidden="true" class="header-anchor">#</a> 10.this</h2> <p>接着上一节讲的话，应该轮到“执行上下文栈”了，但是这里不得不插入一节，把this说一下。因为this很重要，js的面试题如果不出几个与this有关的，那出题者都不合格。</p> <p>其实，this的取值，分四种情况。我们来挨个看一下。</p> <p>在此再强调一遍一个非常重要的知识点：在函数中this到底取何值，是在函数真正被调用执行的时候确定的，函数定义的时候确定不了。因为this的取值是执行上下文环境的一部分，每次调用函数，都会产生一个新的执行上下文环境。</p> <p><strong>情况1：构造函数</strong></p> <p>所谓构造函数就是用来new对象的函数。其实严格来说，所有的函数都可以new一个对象，但是有些函数的定义是为了new一个对象，而有些函数则不是。另外注意，构造函数的函数名第一个字母大写（规则约定）。例如：Object、Array、Function等。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中，如果函数作为构造函数用，那么其中的this就代表它即将new出来的对象。</p> <p>注意，以上仅限new Foo()的情况，即Foo函数作为构造函数的情况。如果直接调用Foo函数，而不是new Foo()，情况就大不一样了。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这种情况下this是window，我们后文中会说到。</p> <p>在构造函数的prototype中，this代表着什么。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上代码，在Fn.prototype.getName函数中，this指向的是f1对象。因此可以通过this.name获取f1.name的值。</p> <p>其实，不仅仅是构造函数的prototype，即便是在整个原型链中，this代表的也都是当前对象的值。</p> <p><strong>情况2：函数作为对象的一个属性</strong></p> <p>如果函数作为对象的一个属性时，并且作为对象的一个属性被调用时，函数中的this指向该对象。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中，fn不仅作为一个对象的一个属性，而且的确是作为对象的一个属性被调用。结果this就是obj对象。</p> <p>注意，如果fn函数不作为obj的一个属性被调用，会是什么结果呢？</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上代码，如果fn函数被赋值到了另一个变量中，并没有作为obj的一个属性被调用，那么this的值就是window，this.x为undefined。</p> <p><strong>情况3：函数用call或者apply调用</strong></p> <p>当一个函数被call和apply调用时，this的值就取传入的对象的值。至于call和apply如何使用，不会的朋友可以去查查其他资料，本系列教程不做讲解。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><strong>情况4：全局 &amp; 调用普通函数</strong></p> <p>在全局环境下，this永远是window，这个应该没有非议。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAToAAAAXCAIAAAFjYiTBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANySURBVGhD7ZeNluogDIR99Pvm3tTpjmMIP0VsbeU7PexkCBSIrLu3+0F85MW3W33aZ4ZlYwAEQBewCI9jTX2AEH7K7d8Nz6Jh7czItxY26njm5cbQL89pabkZlCNP+Cj8bnFOelo5DXLnmrGb0DXk5q+CYlLM2l6audXtdF+t3fi9qvKXHotDx7UgdYAZ9CCSlADOxgnpsG3HfuXigX62S+dv8ENb/SmG1bXlTm29d8SN652mlfI6u3exJ36JumhobSGoDdXE5eRgDvINhMQM9aidqSFYpyuypj5gCFEIAUO2KraCLwmgmpjJrxN92MsuOEYwi6Jrza27ez9GOLYw4RuvqmAvLb732ZXqZeSfSdHISzFE50hzwlHbFvEh9FwmQ5ineU1mXa/JrOs1mXW9JmPq2vKHT0sOSNOc8em/sQrrLG+hcYOOrX8StzBmFqNlS1u3zfSu4zoN1bp2FPtlgJ07j14F0JAawnBaQ+JyVvWaL2J9Qk1cCDChUdDK6kpO6jOkpgAMIQzV3VhR8UCHLQS1ISqzoBZtMHS+EuZAZ7q8ADm/G3spYOiEUdCAIUQjL8UQrYR+eaD0NewBwHE+wzSfhDnFfC9AOXyf6joLa/4Eb9XVsOVyxU48elbgG9TwDQ0h4BgwDYZOEHUg2epDZyzLEh9A09GQrcOZYY5Sro2CXmvTIXHX+vNQbP/VIzgjB27qgqc5MWZdr8ms62RyGuZ1nUxOw7yuG7jkv2Jfy/6nrf/+Kzl/f77x8zeqTgPr3ThVIcu6xi3nAOwEus+ze6DxzthNfP9dNb5oKWRUhT49T2rv9dE6GW8WYocbO+Su7nCxsy/QMwq1M13ohNMaOt+oOmlCSJhGU3tzGoTzGKltjpouIcwnae/+YKfaKqGjJrWaRjUHWlsldcYy6ns1zDeTfipA1Sc+BrkDcj7DnG+YBmv8YFNoLONfWTuKpGnO0XCZ9MEaC6FppLZzyiEwE08VLM/R4RdAgrZK1WHY52urpM5Y0lsBcn6OML/FZGjCPfBJMBfQMwp1LsHozgFVR8e6LiXsoul6l4n+WC0hY2YFKIeGOmnvIWCnjYfgHIbqm3ahEwChM43UGUt6JUDOL8AhOjacxyWEA410bDDXDxJ+dFI+/dGZKNXTfr8c6X0AOf9w5udvMjkN87pOJifhfv8P2Kl1BhBMOtEAAAAASUVORK5CYII=" alt=""></p> <p>普通函数在调用时，其中的this也都是window。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码很好理解。</p> <p>不过下面的情况你需要注意一下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>函数f虽然是在obj.fn内部定义的，但是它仍然是一个普通的函数，this仍然指向window。</p> <p>完了。</p> <p>看到了吧，this有关的知识点还是挺多的，不仅多而且非常重要。</p> <p>最后，既然提到了this，有必要把一个非常经典的案例介绍给大家，又是jQuery源码的。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码是从jQuery中摘除来的部分代码。jQuery.extend和jQuery.fn.extend都指向了同一个函数，但是当执行时，函数中的this是不一样的。</p> <p>执行jQuery.extend(…)时，this指向jQuery；执行jQuery.fn.extend(…)时，this指向jQuery.fn。</p> <p>这样就巧妙的将一段代码同时共享给两个功能使用，更加符合设计原则。</p> <p>好了，聊完了this。接着上一节继续说“执行上下文栈”。</p> <h2 id="执行上下文栈"><a href="#执行上下文栈" aria-hidden="true" class="header-anchor">#</a> 执行上下文栈</h2> <p>继续上文的内容。</p> <p>执行全局代码时，会产生一个执行上下文环境，每次调用函数都又会产生执行上下文环境。当函数调用完成时，这个上下文环境以及其中的数据都会被消除，再重新回到全局上下文环境。处于活动状态的执行上下文环境只有一个。</p> <p>其实这是一个压栈出栈的过程——执行上下文栈。如下图：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>可根据以下代码来详细介绍上下文栈的压栈、出栈过程。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上代码。</p> <p>在执行代码之前，首先将创建全局上下文环境。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>然后是代码执行。代码执行到第12行之前，上下文环境中的变量都在执行过程中被赋值。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>执行到第13行，调用bar函数。</p> <p>跳转到bar函数内部，执行函数体语句之前，会创建一个新的执行上下文环境。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>并将这个执行上下文环境压栈，设置为活动状态。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>执行到第5行，又调用了fn函数。进入fn函数，在执行函数体语句之前，会创建fn函数的执行上下文环境，并压栈，设置为活动状态。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>待第5行执行完毕，即fn函数执行完毕后，此次调用fn所生成的上下文环境出栈，并且被销毁（已经用完了，就要及时销毁，释放内存）。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>同理，待第13行执行完毕，即bar函数执行完毕后，调用bar函数所生成的上下文环境出栈，并且被销毁（已经用完了，就要及时销毁，释放内存）。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>好了，我很耐心的给大家介绍了一段简短代码的执行上下文环境的变化过程，一个完整的闭环。其中上下文环境的变量赋值过程我省略了许多，因为那些并不难，一看就知道。</p> <p>讲到这里，我不得不很遗憾的跟大家说：其实以上我们所演示的是一种比较理想的情况。有一种情况，而且是很常用的一种情况，无法做到这样干净利落的说销毁就销毁。这种情况就是伟大的——闭包。</p> <p>要说闭包，咱们还得先从自由变量和作用域说起。</p> <h2 id="_12-简介【作用域】"><a href="#_12-简介【作用域】" aria-hidden="true" class="header-anchor">#</a> 12.简介【作用域】</h2> <p>提到作用域，有一句话大家（有js开发经验者）可能比较熟悉：“javascript没有块级作用域”。所谓“块”，就是大括号“｛｝”中间的语句。例如if语句：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>再比如for语句：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>所以，我们在编写代码的时候，不要在“块”里面声明变量，要在代码的一开始就声明好了。以避免发生歧义。如：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>其实，你光知道“javascript没有块级作用域”是完全不够的，你需要知道的是——<strong>javascript除了全局作用域之外，只有函数可以创建的作用域。</strong></p> <p>所以，我们在声明变量时，全局代码要在代码前端声明，函数中要在函数体一开始就声明好。除了这两个地方，其他地方都不要出现变量声明。而且建议用“单var”形式。</p> <p>jQuery就是一个很好的示例：</p> <p><img src="/web_blog/assets/img/241708128263977.3d68f591.png" alt=""></p> <p>下面继续说作用域。作用域是一个很抽象的概念，类似于一个“地盘”</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上图，全局代码和fn、bar两个函数都会形成一个作用域。而且，作用域有上下级的关系，上下级关系的确定就看函数是在哪个作用域下创建的。例如，fn作用域下创建了bar函数，那么“fn作用域”就是“bar作用域”的上级。</p> <p>作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。例如以上代码中，三个作用域下都声明了“a”这个变量，但是他们不会有冲突。各自的作用域下，用各自的“a”。</p> <p>说到这里，咱们又可以拿出jquery源码来讲讲了。</p> <p>jQuery源码的最外层是一个自动执行的匿名函数：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>为什么要这样做呢？</p> <p>原因就是在jQuery源码中，声明了大量的变量，这些变量将通过一个函数被限制在一个独立的作用域中，而不会与全局作用域或者其他函数作用域的同名变量产生冲突。</p> <p>全世界的开发者都在用jQuery，如果不这样做，很可能导致jQuery源码中的变量与外部javascript代码中的变量重名，从而产生冲突。</p> <p>作用域这块只是很不好解释，咱们就小步快跑，一步一步慢慢展示给大家。</p> <p>下一节将把作用域和执行上下文环境结合起来说一说。</p> <p>可见，要理解闭包，不是一两句话能说清楚的。。。</p> <h2 id="_13-【作用域】-和-【执行上下文环境】"><a href="#_13-【作用域】-和-【执行上下文环境】" aria-hidden="true" class="header-anchor">#</a> 13.【作用域】 和 【执行上下文环境】</h2> <p>上文简单介绍了作用域，本文把作用域和上下文环境结合起来说一下，会理解的更深一些。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上图，我们在上文中已经介绍了，除了全局作用域之外，每个函数都会创建自己的作用域，作用域在函数定义时就已经确定了。而不是在函数调用时确定。</p> <p>下面我们将按照程序执行的顺序，一步一步把各个上下文环境加上。另外，对上下文环境不了解的朋友，可以去看看之前的两篇文章：</p> <p>第一步，在加载程序时，已经确定了全局上下文环境，并随着程序的执行而对变量就行赋值。</p> <p><img src="/web_blog/assets/img/250814158269779.caf0197b.png" alt=""></p> <p>第二步，程序执行到第27行，调用fn(10)，此时生成此次调用fn函数时的上下文环境，压栈，并将此上下文环境设置为活动状态。</p> <p><img src="/web_blog/assets/img/250814386853995.830696ff.png" alt=""></p> <p>第三步，执行到第23行时，调用bar(100)，生成此次调用的上下文环境，压栈，并设置为活动状态。</p> <p><img src="/web_blog/assets/img/250815006238997.c635f3c4.png" alt=""></p> <p>第四步，执行完第23行，bar(100)调用完成。则bar(100)上下文环境被销毁。接着执行第24行，调用bar(200)，则又生成bar(200)的上下文环境，压栈，设置为活动状态。</p> <p><img src="/web_blog/assets/img/250815248579200.2bbb1f36.png" alt=""></p> <p>第五步，执行完第24行，则bar(200)调用结束，其上下文环境被销毁。此时会回到fn(10)上下文环境，变为活动状态。</p> <p><img src="/web_blog/assets/img/250815435609914.bf6d41c5.png" alt=""></p> <p>第六步，执行完第27行代码，fn(10)执行完成之后，fn(10)上下文环境被销毁，全局上下文环境又回到活动状态。</p> <p><img src="/web_blog/assets/img/250816112012394.70e843ec.png" alt=""></p> <p>结束了。像老太太的裹脚布——又臭又长！</p> <p>最后我们可以把以上这几个图片连接起来看看。</p> <p><img src="/web_blog/assets/img/250816269984619.cdc0a186.png" alt=""></p> <p>连接起来看，还是挺有意思的。作用域只是一个“地盘”，一个抽象的概念，其中没有变量。要通过作用域对应的执行上下文环境来获取变量的值。同一个作用域下，不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值。所以，作用域中变量的值是在执行过程中产生的确定的，而作用域却是在函数创建时就确定了。</p> <p>所以，如果要查找一个作用域下某个变量的值，就需要找到这个作用域对应的执行上下文环境，再在其中寻找变量的值。</p> <p>虽然本文很长，但是文字较少，图片居多，图片都有形象的展示，大家花十几分钟也能慢慢看完。但是，这节内容真的很重要。</p> <p>以上代码中，咱们还没有设计到跨作用域取值的情况，即——自由变量。详细内容且听下回分解。</p> <h2 id="_14-从【自由变量】到【作用域链】"><a href="#_14-从【自由变量】到【作用域链】" aria-hidden="true" class="header-anchor">#</a> 14.从【自由变量】到【作用域链】</h2> <p>先解释一下什么是“自由变量”。</p> <p>在A作用域中使用的变量x，却没有在A作用域中声明（即在其他作用域中声明的），对于A作用域来说，x就是一个自由变量。如下图</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上程序中，在调用fn()函数时，函数体中第6行。取b的值就直接可以在fn作用域中取，因为b就是在这里定义的。而取x的值时，就需要到另一个作用域中取。到哪个作用域中取呢？</p> <p>有人说过要到父作用域中取，其实有时候这种解释会产生歧义。例如：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>所以，不要在用以上说法了。相比而言，用这句话描述会更加贴切——要到创建这个函数的那个作用域中取值——是“创建”，而不是“调用”，切记切记——其实这就是所谓的“静态作用域”。</p> <p>对于本文第一段代码，在fn函数中，取自由变量x的值时，要到哪个作用域中取？——要到创建fn函数的那个作用域中取——无论fn函数将在哪里调用。</p> <p>上面描述的只是跨一步作用域去寻找。</p> <p>如果跨了一步，还没找到呢？——接着跨！——一直跨到全局作用域为止。要是在全局作用域中都没有找到，那就是真的没有了。</p> <p>这个一步一步“跨”的路线，我们称之为——作用域链。</p> <p>我们拿文字总结一下取自由变量时的这个“作用域链”过程：（假设a是自由量）</p> <p>第一步，现在当前作用域查找a，如果有则获取并结束。如果没有则继续；</p> <p>第二步，如果当前作用域是全局作用域，则证明a未定义，结束；否则继续；</p> <p>第三步，（不是全局作用域，那就是函数作用域）将创建该函数的作用域作为当前作用域；</p> <p>第四步，跳转到第一步。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>以上代码中：第13行，fn()返回的是bar函数，赋值给x。执行x()，即执行bar函数代码。取b的值时，直接在fn作用域取出。取a的值时，试图在fn作用域取，但是取不到，只能转向创建fn的那个作用域中去查找，结果找到了。</p> <p>这一节看似很轻松的把作用域链引出来，并讲完了。之所有轻松是有前几节的基础，否则将很难解释。</p> <p>接下来咱们开始正式说说一直期待依旧的朋友——闭包。敬请期待下一节。</p> <h2 id="_15-闭包"><a href="#_15-闭包" aria-hidden="true" class="header-anchor">#</a> 15.闭包</h2> <p>前面提到的上下文环境和作用域的知识，除了了解这些知识之外，还是理解闭包的基础。</p> <p>至于“闭包”这个词的概念的文字描述，确实不好解释，我看过很多遍，但是现在还是记不住。</p> <p>但是你只需要知道应用的两种情况即可——函数作为返回值，函数作为参数传递。</p> <p><strong>第一，函数作为返回值</strong></p> <p><img src="data:image/png;base64,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" alt=""></p> <p>如上代码，bar函数作为返回值，赋值给f1变量。执行f1(15)时，用到了fn作用域下的max变量的值。至于如何跨作用域取值，可以参考上一节。</p> <p><strong>第二，函数作为参数被传递</strong></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATIAAADqCAIAAAHZuW7yAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABLsSURBVHhe7Z3dteUoDoVvPjeeyqIjmCwmiHqep86io5gIJoMaHYuroyMQBoxtwPtbZ7mFwMaw2f6r6u6vr3/9c8Pvz8b3v//z13//4vhry/GW+doKvNVBM+/9pdcL+Oj19+/foXAyoVee4WSvZj6pZCZYiuUz/2532wyH6Hxm7pUUZVH1VgeGPr3WEnrVV4kLuHWsBGb4HLCaCPK3trgpHmSwsZ7Kfb3SAqbtDb1mnCOL6HVb2QjlA9w6w7tXiS5DFG4dK22v7pXBWM/hjne60PWfP3//72/a8o2FPcIXBILjV6oHtssL+Ojy4Ktc4Uzkutwm9d2AQv5JUbZb8G6Z592ufJTFB0/T0uUu+RGf0mUedOlRvjiTjD3Kg4MT7u4yRCfzwC5//foVCmfy0eW4l4KDTNUl2ZQJ5WJ2uqQDyjFNBw2dMTtdnkFpl81jihl4lB0ZoEvRrKN4hltHKdCLH3UfCqvwMU55rdbj1Ko2K3ze2ijkkXoyMs7Cp5O8VlzpNcnXdiTRg4zzmivENVw3Tk86Wg7JFcFJ2XLQTGJn6DkBnuwfWXNfuX6cvD6JUP4573grSJECU6VJVJzmT/ckLgDjxHWohHvVi4Gea/H4cdKi7btuB7re6ucEM04+SdrKT6OLqdrP8h0kzuBx1yGMcz7CONmZTMM4mw3I1r3AwI/Us+q9LBZhhOuqxyP1ZLBuJ2Z/3Y7sunL2123m0k/JZH5Abvq3si7+hcEqSMwQrcLOIGk98pLkQJanrFWzYiU/FIkTMkqWnPOAA9PsD3IBHjZIuZHwIOkWwneRKzlp2btKXvO3zZJ0H+qHkvJ8R9tdJV+XUf9suIa20kQyeiu1mhMHKeDCc5TeIhXx0aderidROEjxQpel+z6EubpeQDwMb0gHh5rYGZ6cko9BXuDJM9hdzO9qc5+cjsxQ71eST462cpaSMVsmzjBxRkhU4MIzJe9Bzu7JDB+D5ADLdUqeN0h4cmIepqQgg7z+Q9ZJPO/Cw2CQU4JBrsJ7kOY+KR+XM+9puxzZtyMfJ6Hvkzf+MUF33EGKkgxLQlvRRjJ6K7Wa2/VMdI8Lz5S8B/mUB3QGg5ySxwxS3KhvIStx9MLj3QL53jjQEw8NT0ZI1CpJA5GxmFF5g9RTcMFEJDrAhefNBQr0oucghx12+yCZKfQ8OsgpeMwg+f7Rdp+cgicpKT8qQskpaRnkRI8BzMfpFi5XGiQTysPzPlEeIZEZ5EQD0yRO+hGejKFh04//HS4wLGkt5a7JjKmlvkRMernoizsFzVrKrBZOb0dJHq5oevDsS5GzXEueTNrKzyDTzYHZMq/qAkxjiXXyURQNu8qX4C7u0fKIdZp3Xd6uN2j5ujJu86q3mq0+EFI/UIJzUhNniLiWYw0X9TYDn0l8PkNRdHLdfWk4Mkd619rD7O6rT0ziYRUtOq1YS/1XfsAgQMt1SGupXy6JJbU89VJ5y3U412Xm/XIxX2amflcV3eAWCQW37/y3gpG1pPmUKdWxBwnAhPIPcYaQJAdmy7yq76Co4+V9uQbQ8hAlLrzMqW43815jG9DTzbHeciAxoWPBtPGQNtye4KLAmTi/S26H52hp0PPozWnDXAvJfZOdVvVS1PRpWl4D6VQl1S7Qch3SWsrVlZlLy76LfSIW9CW0tMz7HAstc8yl5WOZTMvHeq6E9NTwBXbAayy0zOBqGaINaDkFRVMzjpYgQ6OWYEAar7FgQODLdXC11NaEllMAX65Dfy2b3xoOvm7gdSU9/uZnH5pPnlKZ2DhDxLUca7iotxlISGiZHn+tlpl51DW1s727b7Lfx4paNOxYS3wrGBBouQ5pLfkaK1daaDkFri/z75fQckCg5TrgfrkO0HIdPrSU66q+wBIdtaR3P/lJMc4Lr08AG7oosWyFrT4QUj66TUn7wfkYwAVaEjRpyXlrmMyDAqyspUdfLcFJQMt1eGtJ11V9jdWX2VO1lIubd5Vb4Op3DR/TpPW7TMsMULGK92SxF1lCHRN9tSSFkiLpvI5BIUXzdZcvQRXQch0+tJSLqgFaTgG0XAdcY9cBWq7DW0v9EmIutnkt9cuDeZHYfa/Ai0dHPqbSSCjFci3LgYrdeU8o+1L00/FxLakNN9PBVgO68fX1r3/wW+QXNPUhO7IvQxmMCrRch7SWcqckxtRS7rsCbsBHfckTKNNognh6jQYSc57gohCy8YE+9+Xg4ezPQpWWRH5iN11ehPKWMUEhzTuuyv4slF9jeUrzE0vzznAsWx0U0rzjqqRnQb9c7mqpZ5JiLkpgoHlndJED2Zaw7fdCihw8mf0pGPPZx+PJoq6m5ZOBlutwj5ZHroTNuzbsGJ9n/szvvcLn+ubHH63l70+2VtVcKeTFczuZllvNizYtabSMiTUhm8iHH8d6K3kpSqBjQWLO6ypBToBPhpAiBzGZqgtw+06+k5B+v3447suGkcseelcvJpJVmfYafXpebGgYUUfSfYuQRF9fEjLghpHLHnpXLyaSVZn2HoWnOqiW/KO47/2SRstwLJmtcgdqxT8p8tYLGJ2UvAl0lUbO0Gw9CgdyEvt9ay3ByEDLdYCW67Cgluae5d3Czru33XVPzR03fvaZjiPzdtKk36MlM5eWNFEyVxwnp04mlAKGi4Y4bxpLzHlCihzEZKoOsn/cqa+x3rzpCa2aXGrMhLLaPZmMyVQdJHfcSa+xeq5K5q1qcqkxw7FsdZCnsFkD6ePKhwJixmssT5eOY5J67EItGV3kwGw98rVH2D/u1M8+jwJargO0XAdo2Q7d+XZvfiVtmLhZ4Y6C23rSZ5+LKZnuWkma2e9meS1prmW6dcDoosQcECbWRcG0CdFnex0wUuSA0HGSnWpibS29ySqJCSmavCbZhuNMFaPjXfabQkuGMyYvxbi9kGxT0r4Wdzf5XPDYayxvBc4TEnOe0EUOOENwkpCiCQTOxFsh3sWwU03g2eckSJtdeTTQ8kFAy3WAlusALdchreW8f+b1ZHK+fMg7yTJAy3XANXYd8OyzDtByHaDlOkDLdXCffUIELefB9eX4z7FVf8jwBHLTgffLuYCW64Br7DrsTwe0nIVGLZv/OyLgPCb2JTBAy3XIaYnn2LlwtRz/ORYYoOU64H65DtByHaDlOkDLdYCW69BHS/1ptPkracOOn/2+4vxH2rU/4ebGFn8r4M+wwtbqg9q56jW3hSJByw8tt5oXEssE0T/5x7HeSl6KEuhYkJjzukpQ/QakyEFMpmoB0mOTDwWE0TL8XxDU/wdBT5CEetK8mEhWZdprPvtNx4YnaskU+lIjc6UnzYuJZFWmvUehSE/UklQUa5bcL3mOaMM/hgPJxAGjk5I3ga7S/PQbkIxHvnZ29semtQQjAy3XAVquA7RcB2i5Djkt43cSMDJpLfmdBFrOBXy5Dq6WLCQBLWcBzz7rAC3XAVquA7Rch7eW8rBD6HgNLbc/R/lYuLpoqiYlN4Yz3kl40mTqTBBP6SbBOysx5wkuCiEbH+hzXw4I0zK54yzkTv0CLYn87NHkMqG8ZUxQSHLH2oOMTG4kZ2ip4WnMTybNNcOxbHVQSHLH2oOMzHskpJy+TUrcXUs9exRzUQIDzTWjixzItoRtvxdS5IDw4unYP/U1nn0KgZZgCKDlOtyjZfktauqL3sW8Zyr54EOc8OyTkIeSkk82ALvsz1pfLVkzQoocEDrJSJEDQsfAsD81p/qyRCfoV8jNWmokD/HaeM+a/lag41OvsQTHnCQkybFkGFMEmv2p6e7LI0DLDJNpCTJAy3WAluvw1lJ/H2A4Ay1nIedLaDkXrpYnvZOA80hrqa+30HIWPu6XIiHHXISWs5C7XzLQchag5TpAy3XoqWX8sVRn8rXgOO/ZlAcfoeOzD2S7gP0prtIyaUQKGBNzkQNCx6CB/ek7riWRFI+Afh3JTeUZ11iIdx7vmZWPAyY+/uxDWyaZEUwR1LI/fV18WQK0PEif6RO9+UfFUAEAqAe2BGA4qm0pT7ca2LIW7zHv9WiPJ8DHA1veQ+w9k4E5n8z9ttTLryQmqCgZUxXD61tvGS8mpGjyHYmP7J0DeCDV2p9xt+QVGK9DyiSr4pYZeH3rrUDFZJ6QqjzczBDqssTNTKbwOGBJqrU/6SE2XoSSocDUVq1YXt96y0hMgc4TuoqD7iSPnOyXYl0ET6CP3sdtCTLAlk8DtgRgOGBLAIYDtgSHyD9gH3z8fr1VP/IBvm7M3z//Yq358DO+LUXdi2WW3q7slvq6oLvymWye82d6kqgYtrGiLnq21P+vfo2XP4+7BD6727vWbe18ts0/bFlH4d1yZFtSRifjBl2Ij2oyUqRAV5XEhCkKybwkzQFNsYTkdEkyrm2Y3pMUmYLqkRtDMpPaMkQb+UVAtTGhLkvcymSkWJg3eLVxvvD43gEN3vC9mfHa52nbawEqhr3YQ6zJnLQC4qPqDMVSNC1NM8FrltldSDYu2TFJZkp7ze1JooxPn2F7tgTLk3fOQV/R7gePMCmX2vL6myQAMwJbAjAcsOVDmevh8ODZbs/CU403/LOM72N/nQC2bINWlLeoJF++6o4v0LuWeHO/c3mSqDhdY0VdhC3vona9dVygt6z1tk5XtiUT3yoJ2PJsvHVVu96SC1SSDct3dxduoLeMFxNSNHkizuzSsMvttJ8x7pZX4i2t2iXnrVHKNyzfkl24jd4KVEzmCakyJJO7tO11IxWni4fYG/HWVcN6i9eoZMqXb21LvWUkpkDnCV3FAWOK5TTveBd9The2nI65VurBs6XdJxtv+OcxYEsAOgJbAjAcsCUACfIPvWc/Ejce3Xz+gS1BG73Wd0eflB/qPHO2HJc8CVuCLoxmy9rjnOTMuoOKG2HLldBrKxmbpCmagNAxkWzD7GbiBkmSzSSpa72YKT8Ok2x/nIqD8k3S/LgKtpwXb2GZvLc0dZFiJpQ3qorEa/9PQkWWuJnJ6OLroBuhrEgmidr2B2k8qBiSgS2nRq+tZOw1IJrbMLsZva+p0iSrJGlqXwf6IaQUcVIypiq5exf6HBe2BLNQaK285XYNedCxh3YWYEsAOgJbAjAcsOXo0OPQwSciMB0VeusPsPwLFbDlycCWT6POliGKgC1PBbZ8Gu22xN3ySuDMR9EuNmx5GfDk08DdcgJgy6fRR2/Y8jzIk7Dl04AtARgO2BKA4YAtzwIPn6CZ6nXz/fkXCRjYMglsCdqoWDexGwXYMglsCdqos6V2po5hSw84EzTQfreELXeBJ0EbdesGd8sqYEvQRp91A1vGkCcztoRjQQbYEoDhuNSWAIASYEsAhqPClt/qv0vAv1ABWwLQlca7pfYkAVsC0JEWWxpPErAlAB2ptmXsSQK2BKAjsCUAw9H4bmmALQHoCGwJwHDAlgAMx3C2fNpfFs2P9+Bs0O4HjwBuoU6z79TfJSC62DK5gCR35eqivi7ozhlvSOraZms17wjupUI2Y0Vd9Gzp/d30OO8toLPX1V3r1h9vXT4PbDkpdbLJrdJY9EpbmowUKdBVJTFhikIyL0lzQFMs4QJbwpPzUqGcsaIuDmJLjZc3eLVxvvD43gENF9iSgDMnpUK2U21JJNdQnNMZiqVoWppmgtcss7uQbFyyYxJnvKXJEmDLSekjm2fLBp62kvLjPTgbtPvBI4BbuNSW3s0TAKCBLQEYDtgSgOGos+V36k9HCNgSgI5U2LLhS6wBtgSghEZbmnsmbAlAR9rfLWFLAE6i+t3SBAxsCUBH2u+WGtgSgI7AlgAMB2wJwHDAlgAMh2tL81FHoHxcBVuOhvc31L2/vO7lwS1U2NJkdBG2HI3YYyYjRS8PbsTVYBlb6mVWEhNUlIypiuF1rLeMFxNSNPmOxEcuPIfzTgmU42qwjC0JXmnxeqNMsipumYHXsd4KVEzmCanKw80MoS5L3MxkpOjlwY24GsS2JCRpage3JREvNslQYGqrViavY71lJKZA5wldxUF3kkf2+r3gfEAVfWQY35agDRj1FmBLAIYDtgRgOGDLQNvTGp7xwBm4qyr5yYdI5se3ZearRtJayWaGUOEcAYBm3PW0qi0N5fm89+BM0BF3McGWIfrBZPJFAI7gLibYMkQOsCU4D3cxPcSWRLIqTmZ8mDk4AA30WU/j23KXNmvt7gXHggZgSwCGA7YEYDhgSwCGw7Vl8tMOJeUXUhuwJQAdqbClyegibAlAR+rulgLulgCcR7Utk3nYEoCO4CEWgOFwbVkFbAlAR2BLAIYDtgRgOO635ddGKPxQ/ldJy1tq2vYC4Brc1Zn84kpJ+YXUxsG7pWeSvHmStZIsMV5JGwCux12XsS1NRhdPsiXhVdXmPeBMMCDuooxtyVA+rjpoS6KX/eI8ZXTSNDBFAEbAXZSeLYVZ7pYmky8CMALuooxtaTIX2DLvmWRtnDQZXcwfH4C76LMuj9iSvBHbo9ww5S01u3u1HRaALvRZfAfvlgCAN3/+/B9PbJwk2vo/XAAAAABJRU5ErkJggg==" alt=""></p> <p>如上代码中，fn函数作为一个参数被传递进入另一个函数，赋值给f参数。执行f(15)时，max变量的取值是10，而不是100。</p> <p>上一节讲到自由变量跨作用域取值时，曾经强调过：要去创建这个函数的作用域取值，而不是“父作用域”。理解了这一点，以上两端代码中，自由变量如何取值应该比较简单。（不明白的朋友一定要去上一节看看，这个很重要！）</p> <p>另外，讲到闭包，除了结合着作用域之外，还需要结合着执行上下文栈来说一下。</p> <p>在前面讲执行上下文栈时，我们提到当一个函数被调用完成之后，其执行上下文环境将被销毁，其中的变量也会被同时销毁。</p> <p>但是在当时那篇文章中留了一个问号——有些情况下，函数调用完成之后，其执行上下文环境不会接着被销毁。这就是需要理解闭包的核心内容。</p> <p>咱们可以拿本文的第一段代码（稍作修改）来分析一下。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>第一步，代码执行前生成全局上下文环境，并在执行时对其中的变量进行赋值。此时全局上下文环境是活动状态。</p> <p><img src="/web_blog/assets/img/260749349988764.f69e45f2.png" alt=""></p> <p>第二步，执行第17行代码时，调用fn()，产生fn()执行上下文环境，压栈，并设置为活动状态。</p> <p><img src="/web_blog/assets/img/260750319351092.151e0b23.png" alt=""></p> <p>第三步，执行完第17行，fn()调用完成。按理说应该销毁掉fn()的执行上下文环境，但是这里不能这么做。注意，重点来了：因为执行fn()时，返回的是一个函数。函数的特别之处在于可以创建一个独立的作用域。而正巧合的是，返回的这个函数体中，还有一个自由变量max要引用fn作用域下的fn()上下文环境中的max。因此，这个max不能被销毁，销毁了之后bar函数中的max就找不到值了。</p> <p>因此，这里的fn()上下文环境不能被销毁，还依然存在与执行上下文栈中。</p> <p>——即，执行到第18行时，全局上下文环境将变为活动状态，但是fn()上下文环境依然会在执行上下文栈中。另外，执行完第18行，全局上下文环境中的max被赋值为100。如下图：</p> <p><img src="/web_blog/assets/img/260957500455644.cc9a79eb.png" alt=""></p> <p>第四步，执行到第20行，执行f1(15)，即执行bar(15)，创建bar(15)上下文环境，并将其设置为活动状态。</p> <p><img src="/web_blog/assets/img/260958057327369.05452063.png" alt=""></p> <p>执行bar(15)时，max是自由变量，需要向创建bar函数的作用域中查找，找到了max的值为10。这个过程在作用域链一节已经讲过。</p> <p>这里的重点就在于，创建bar函数是在执行fn()时创建的。fn()早就执行结束了，但是fn()执行上下文环境还存在与栈中，因此bar(15)时，max可以查找到。如果fn()上下文环境销毁了，那么max就找不到了。</p> <p>使用闭包会增加内容开销，现在很明显了吧！</p> <p>第五步，执行完20行就是上下文环境的销毁过程，这里就不再赘述了。</p> <p>闭包和作用域、上下文环境有着密不可分的关系，真的是“想说爱你不容易”！</p> <p>另外，闭包在jQuery中的应用非常多，在这里就不一一举例子了。所以，无论你是想了解一个经典的框架/类库，还是想自己开发一个插件或者类库，像闭包、原型这些基本的理论，是一定要知道的。否则，到时候出了BUG你都不知道为什么，因为这些BUG可能完全在你的知识范围之外。</p> <h2 id="原文链接"><a href="#原文链接" aria-hidden="true" class="header-anchor">#</a> 原文链接</h2> <p><a href="https://www.cnblogs.com/wangfupeng1988/p/3977924.html" target="_blank" rel="noopener noreferrer">深入理解javascript原型和闭包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/3/2019, 11:31:02 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web_blog/blog/JavaScript相关/由数组去重谈性能优化.html" class="prev">论高性能数组去重</a></span> <span class="next"><a href="/web_blog/blog/JavaScript相关/Console不止log.html">console 不止 log</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/web_blog/assets/js/app.91c2830f.js" defer></script><script src="/web_blog/assets/js/2.eab7b1a3.js" defer></script><script src="/web_blog/assets/js/3.79e8f6ea.js" defer></script>
  </body>
</html>
